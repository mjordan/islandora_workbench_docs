
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Islandora Workbench">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Workflows - Islandora Workbench</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#batch-ingest" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Islandora Workbench" class="md-header__button md-logo" aria-label="Islandora Workbench" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Islandora Workbench
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Workflows
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mjordan/islandora_workbench_docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Islandora Workbench" class="md-nav__button md-logo" aria-label="Islandora Workbench" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Islandora Workbench
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mjordan/islandora_workbench_docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../drupal_and_workbench/" class="md-nav__link">
        Workbench's relationship to Drupal and Islandora
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Requirements and installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../choosing_a_task/" class="md-nav__link">
        Choosing a task
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../check/" class="md-nav__link">
        Checking configuration and input data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../preparing_data/" class="md-nav__link">
        Preparing your data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fields/" class="md-nav__link">
        Field data (Drupal and CSV)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ignoring_csv_rows_and_columns/" class="md-nav__link">
        Ignoring CSV rows and columns
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../checking_if_nodes_exist/" class="md-nav__link">
        Checking if nodes already exist
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../field_templates/" class="md-nav__link">
        CSV field templates
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../csv_value_templates/" class="md-nav__link">
        CSV value templates
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../paged_and_compound/" class="md-nav__link">
        Creating paged, compound, and collection content
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nodes_only/" class="md-nav__link">
        Creating nodes without media
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../creating_nodes_from_files/" class="md-nav__link">
        Creating nodes from files
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../updating_nodes/" class="md-nav__link">
        Updating nodes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../deleting_nodes/" class="md-nav__link">
        Deleting nodes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../creating_taxonomy_terms/" class="md-nav__link">
        Creating taxonomy terms
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../updating_terms/" class="md-nav__link">
        Updating taxonomy terms
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../aliases/" class="md-nav__link">
        Assigning URL aliases
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../alt_text/" class="md-nav__link">
        Adding alt text to images
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rolling_back/" class="md-nav__link">
        Rolling back nodes and media
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../media_types/" class="md-nav__link">
        Configuring media types
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quick_delete/" class="md-nav__link">
        Quick delete
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../adding_media/" class="md-nav__link">
        Adding media to nodes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../adding_multiple_media/" class="md-nav__link">
        Adding multiple media
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../media_track_files/" class="md-nav__link">
        Creating media track files
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../updating_media/" class="md-nav__link">
        Updating media
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../deleting_media/" class="md-nav__link">
        Deleting media
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../generating_csv_files/" class="md-nav__link">
        Generating CSV files
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../exporting_islandora_7_content/" class="md-nav__link">
        Exporting Islandora 7 content
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fixity/" class="md-nav__link">
        Fixity checking
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cancelling/" class="md-nav__link">
        Cancelling Workbench
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Workflows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Workflows
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#batch-ingest" class="md-nav__link">
    Batch ingest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distributed-batch-ingest" class="md-nav__link">
    Distributed batch ingest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrations" class="md-nav__link">
    Migrations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#watch-folders" class="md-nav__link">
    Watch folders
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-maintenance" class="md-nav__link">
    Metadata maintenance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrations-with-other-systems" class="md-nav__link">
    Integrations with other systems
  </a>
  
    <nav class="md-nav" aria-label="Integrations with other systems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-hooks" class="md-nav__link">
    Using hooks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing-the-input-csv-with-other-applications" class="md-nav__link">
    Sharing the input CSV with other applications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study" class="md-nav__link">
    Case study
  </a>
  
    <nav class="md-nav" aria-label="Case study">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-fetch-the-days-theses-from-the-trs" class="md-nav__link">
    Step 1: Fetch the day's theses from the TRS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-convert-the-trs-data-into-csv" class="md-nav__link">
    Step 2: Convert the TRS data into CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-run-islandora-workbench" class="md-nav__link">
    Step 3: Run Islandora Workbench
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-update-the-trs" class="md-nav__link">
    Step 4: Update the TRS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#not-depicted-in-the-diagram" class="md-nav__link">
    Not depicted in the diagram
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contact_sheet/" class="md-nav__link">
        Generating a contact sheet
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../reducing_load/" class="md-nav__link">
        Reducing Workbench's impact on Drupal
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sample_data/" class="md-nav__link">
        Creating nodes from the sample data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../generating_sample_content/" class="md-nav__link">
        Generating sample Islandora content
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../limitations/" class="md-nav__link">
        Known limitations
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        Roadmap (Fall 2021)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Change log
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../development_guide/" class="md-nav__link">
        Development guide
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#batch-ingest" class="md-nav__link">
    Batch ingest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distributed-batch-ingest" class="md-nav__link">
    Distributed batch ingest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrations" class="md-nav__link">
    Migrations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#watch-folders" class="md-nav__link">
    Watch folders
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-maintenance" class="md-nav__link">
    Metadata maintenance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrations-with-other-systems" class="md-nav__link">
    Integrations with other systems
  </a>
  
    <nav class="md-nav" aria-label="Integrations with other systems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-hooks" class="md-nav__link">
    Using hooks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing-the-input-csv-with-other-applications" class="md-nav__link">
    Sharing the input CSV with other applications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study" class="md-nav__link">
    Case study
  </a>
  
    <nav class="md-nav" aria-label="Case study">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-fetch-the-days-theses-from-the-trs" class="md-nav__link">
    Step 1: Fetch the day's theses from the TRS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-convert-the-trs-data-into-csv" class="md-nav__link">
    Step 2: Convert the TRS data into CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-run-islandora-workbench" class="md-nav__link">
    Step 3: Run Islandora Workbench
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-update-the-trs" class="md-nav__link">
    Step 4: Update the TRS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#not-depicted-in-the-diagram" class="md-nav__link">
    Not depicted in the diagram
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/mjordan/islandora_workbench_docs/edit/main/docs/workflows.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>Workflows</h1>

<p>Islandora Workbench can be used in a variety of content ingest workflows. Several are outlined below.</p>
<h2 id="batch-ingest">Batch ingest</h2>
<p>This is the most common workflow. A user prepares a CSV file and accompanying media files, and runs Workbench to ingest the content:</p>
<p><img alt="Batch ingest" src="../images/workflow_batch_loading.png" /></p>
<p>Note that within this basic workflow, options exist for creating nodes with <a href="/islandora_workbench_docs/nodes_only/">no media</a>, and creating stub nodes <a href="/islandora_workbench_docs/creating_nodes_from_files/">from files</a> (i.e., no accompanying CSV file).</p>
<h2 id="distributed-batch-ingest">Distributed batch ingest</h2>
<p>It is possible to separate the tasks of creating a node and its accompanying media. This can be done in a couple of ways:</p>
<ul>
<li>creating the nodes first, using the <code>nodes_only: true</code> configuration option, and <a href="/islandora_workbench_docs/adding_media/">adding media to those nodes</a> separately</li>
<li>creating stub nodes <a href="/islandora_workbench_docs/creating_nodes_from_files/">directly from media files</a>, and <a href="/islandora_workbench_docs/updating_nodes/">updating the nodes</a> separately</li>
</ul>
<p><img alt="Distributed batch ingest" src="../images/workflow_distributed_batch_loading.png" /></p>
<p>In this workflow, the person creating the nodes and the person updating them later need not be the same. In both cases, Workbench can create an <a href="/islandora_workbench_docs/output_csv/">output CSV</a> that can be used in the second half of the workflow.</p>
<h2 id="migrations">Migrations</h2>
<p>Islandora Workbench is not intended to replace Drupal's Migrate framework, but it can be used in conjunction with other tools and processes as part of an "<a href="https://en.wikipedia.org/wiki/Extract,_transform,_load">extract, transform, load</a>" (ETL) workflow. The source could be any platform. If it is Islandora 7, several tools exist to extract content, including the <a href="/islandora_workbench_docs/exporting_islandora_7_content/">get_islandora_7_content.py</a> script that comes with Workbench or the <a href="https://github.com/mjordan/islandora_get_csv">Islandora Get CSV</a> module for Islandora 7. This content can then be used as input for Islandora Workbench, as illustrated here:</p>
<p><img alt="Migrations" src="../images/workflow_migrations.png" /></p>
<p>On the left side of the diagram, <code>get_islandora_7_content.py</code> or the Islandora Get CSV module are used in the "extract" phase of the ETL workflow, and on the right side, running the user's computer, Islandora Workbench is used in the "load" phase. Before loading the content, the user would modify the extracted CSV file to confirm with Workbench's CSV content requirements.</p>
<p>The advantage of migrating to Islandora in this way is that the exported CSV file can be cleaned or supplemented (manually or otherwise) prior to using it as Workbench's input. The specific tasks required during this "transform" phase will vary depending on the quality and consistency of metadata and other factors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Workbench's ability to add multiple media to a node at one time is useful during migrations, if you want to reuse derivatives such as thumbnails and OCR transcripts from the source platform. Using this ability can speed up ingest substantially, since Islandora won't need to generate derivative media that are added this way . See the "<a href="/islandora_workbench_docs/adding_multiple_media">Adding multiple media</a>" section for more information.</p>
</div>
<h2 id="watch-folders">Watch folders</h2>
<p>Since Islandora workbench is a command-line tool, it can be run in a scheduled job such as Linux "cron". If CSV and file content are present when Workbench runs, Workbench will operate on them in the same way as if a person ran Workbench manually.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Islandora Workbench does not detect changes in directories. While tools to do so exist, Workbench's ability to ingest Islandora content in batches makes it useful to scheduled jobs, as opposed to realtime detection of new files in a directory.</p>
</div>
<p>An example of this workflow is depicted in the diagrams below, the source of the files is the daily output of someone scanning images. If these images are saved in the directory that is specified in Workbench's <code>input_dir</code> configuration option, and Workbench is run in a cron job using the "<a href="/islandora_workbench_docs/creating_nodes_from_files/">create_from_files</a>" task, nodes will be created when the cron job executes (over night, for example):</p>
<p><img alt="Watch folders" src="../images/workflow_watch_folders.png" /></p>
<p>A variation on this workflow is to combine it with the "Distributed" workflow described above:</p>
<p><img alt="Watch folders with secondary CSV data" src="../images/workflow_distributed_watch_folder.png" /></p>
<p>In this workflow, the nodes are created overnight and then updated with CSV data the next day.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using a CSV file as input (that is, a standard <code>create</code> task), a feature that is useful in this workflow is that Workbench can check to see <a href="/islandora_workbench_docs/checking_if_nodes_exist/">if a node already exists</a> in the target Drupal before it creates the node. Using this feature, you could continue to append rows to your input CSV and not worry about accidentally creating duplicate nodes.</p>
</div>
<h2 id="metadata-maintenance">Metadata maintenance</h2>
<p>Workbench can help you maintain your metadata using a variation of the Extract/Transform/Load pattern mentioned above. <a href="https://github.com/rosiel">Rosie Le Faive</a> demonstrates this round-tripping technique <a href="https://www.dropbox.com/scl/fi/o8nqw1nnkg862xmbbvti3/adding-publisher-field.mp4?rlkey=wmvtuns3quvhmd7yelzdhvopw&amp;dl=0">in this video</a> (no need to log in), in which they move publisher data from the Linked Agent field to a dedicated Publisher field. Rosie</p>
<ol>
<li>uses a <code>get_data_from_view</code> task to export the Linked Agent field data from a group of nodes, then</li>
<li>does some offline transformation of that data into a separate Publisher field (in this case, a Python script, but any suitable tool could be used), then finally</li>
<li>uses a pair of <code>update</code> tasks to put the modified data back into Drupal.</li>
</ol>
<p>Another example of round-tripping metadata is if you need to change a Drupal field's configuration (for example, change a text field's maximum length) but Drupal won't allow you to do that directly. Using Workbench, you could export all the data in the field you want to modify, create a new Drupal field to replace it, and then use an <code>update</code> task to populate the replacement field.</p>
<p>Drupal's Views Bulk Operations module (documented <a href="https://islandora.github.io/documentation/concepts/collection/#bulk-management-of-members-of-a-collection">here</a>) lets you do simple metadata maintenance, but round-tripping techniques like the ones described here allows you to do things that VBO simply can't.</p>
<h2 id="integrations-with-other-systems">Integrations with other systems</h2>
<p>A combination of the "Migrations" workflow and the "Watch folder" workflow can be used to automate the periodic movement of content from a source system (in the diagram below, Open Journal Systems or Archivematica) into Islandora:</p>
<p><img alt="Migrations" src="../images/workflow_integrations.png" /></p>
<p>The extraction of data from the source system, conversion of it into the CSV and file arrangement Workbench expects, and running of Workbench can all be scripted and executed in sequence using scheduled jobs. The <a href="/islandora_workbench_docs/workflows/#case-study">case study below</a> provides a full, operational example of this workflow.</p>
<h3 id="using-hooks">Using hooks</h3>
<p>Islandora Workbench provides several "<a href="/islandora_workbench_docs/hooks/">hooks</a>" that allow you to execute external scripts at specific times. For example, the "post-action script" enables you to execute scripts immediately after a node is created or updated, or a media is created. Drupal informs Workbench if an action was successful or not, and in either case, post-action hook scripts registered in the Workbench configuration file execute. These scripts can interact with external applications:</p>
<p><img alt="Post-action hook script" src="../images/post_action_hook.png" /></p>
<p>Potential uses for this ability include adding new Islandora content to external processing queues, or informing upstream applications like those described in the "Integrations with other systems" section above that content they provide has been (or has not been) ingested into Islandora. As a simpler example, post-action hook scripts can be used to write custom or special-purpose log files.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Schedulers such as Linux <code>cron</code> usually require that all file paths are absolute, unless the scheduler changes its current working directory when running a job. When running Islandora Workbench in a scheduled job, all paths to files and directories included in configuration files should be absolute, not relative to Workbench. Also, the path to Workbench configuration file used as the value of <code>--config</code> should be absolute. If a scheduled job is not executing the way you expect, the first thing you should check is whether all paths to files and directories are expressed as absolute paths, not relative paths.</p>
</div>
<h3 id="sharing-the-input-csv-with-other-applications">Sharing the input CSV with other applications</h3>
<p>Some workflows can benefit from having Workbench share its input CSV with other scripts or applications. For example, you might use Workbench to ingest nodes into Islandora but want to use the same CSV file in a script to create metadata for loading into another application such as a library discovery layer.</p>
<p>Islandora Workbench strictly validates the columns in the input CSV to ensure that they match Drupal field names. To accommodate CSV columns that do not correspond to Drupal field names, you can tell Workbench to ignore specific columns that are present in the CSV. To do this, list the non-Workbench column headers in the <code>ignore_csv_columns</code> configuration setting. For example, if you want to include a <code>date_generated</code> and a <code>qa by</code> column in your CSV, include the following in your Workbench configuration file:</p>
<pre><code>ignore_csv_columns: ['date_generated', 'qa by']
</code></pre>
<p>With this setting in place, Workbench will ignore the <code>date_generated</code> column in the input CSV. More information on this feature <a href="/islandora_workbench_docs/ignoring_csv_rows_and_columns/#ignoring-csv-columns">is available</a>.</p>
<h3 id="case-study">Case study</h3>
<p>Simon Fraser University Library uses Islandora Workbench to automate the transfer of theses from its locally developed thesis registration application (called, unsurprisingly, the <a href="https://theses.lib.sfu.ca">Thesis Registration System</a>, or TRS) to <a href="https://summit.sfu.ca">Summit</a>, the SFU institutional research repository. This transfer happens through a series of scheduled tasks that run every evening.</p>
<p>This diagram depicts the automated workflow, with an explanation of each step below the diagram. This case study is an example of the "<a href="/islandora_workbench_docs/workflows/#integrations-with-other-systems">Integration with other systems</a>" workflow described above.</p>
<p><img alt="TRS-to-Summit-automation-overview" src="../images/TRS-to-Summit-automation.png" /></p>
<p>Steps 1 and 2 do not involve Workbench directly and run as separate cron jobs an hour apart - step 1 runs at 7:00 PM, step 2 runs at 8:00 PM. Steps 3 and 4 are combined into a single Workbench "create" task which is run as a cron job at 9:00 PM.</p>
<h4 id="step-1-fetch-the-days-theses-from-the-trs">Step 1: Fetch the day's theses from the TRS</h4>
<p>The first scheduled task runs a script that fetches a list of all the theses approved by the SFU Library <a href="https://www.lib.sfu.ca/help/publish/thesis">Thesis Office</a> staff during that day. Every thesis that has been approved and does not have in its metadata a URL in Summit is in the daily list. (The fact that a thesis doesn't have a Summit URL in its TRS metadata yet will come up again in Step 4; we'll come back to that later.)</p>
<p>After retrieving the list of theses, the script retrieves the metadata for each thesis (as a JSON file), the thesis PDF file, and, if they are present, any supplemental data files such as Excel, CSV, or video files attached to the thesis. All the data for each thesis is written to a temporary directory, where it becomes input to the script described in Step 2.</p>
<h4 id="step-2-convert-the-trs-data-into-csv">Step 2: Convert the TRS data into CSV</h4>
<p>The script executed in this step converts the thesis data into a Workbench input CSV file. If there are any theses in a daily batch that have supplemental files, the script generates a second CSV file that is used in a Workbench secondary task to create compound objects (described in more detail in the next step).</p>
<h4 id="step-3-run-islandora-workbench">Step 3: Run Islandora Workbench</h4>
<p>With the thesis CSV created in step 2 in place (and the accompanying supplemental file CSV, if there are any supplemental files in the day's batch), a scheduled job executes Islandora Workbench. The main Workbench configuration file looks like this:</p>
<pre><code class="language-yaml">task: create
host: https://summit.sfu.ca
username: xxxxxxxxxxxxxxxx
password: xxxxxxxxxxxxxxxx
content_type: sfu_thesis
allow_adding_terms: true
require_entity_reference_views: false
subdelimiter: '%%%'
media_types_override:
 - video: ['mp4', 'mov', 'mpv']
 - file: ['zip', 'xls', 'xlsx']
input_dir: /home/utilityuser/islandora_workbench/input_data
input_csv: /home/utilityuser/summit_data/tmp/theses_daily.csv
secondary_tasks: ['/home/utilityuser/islandora_workbench/supplemental_files_secondary_task.yml']
log_file_path: /home/zlocal/islandora_workbench/theses_daily.log
node_post_create: ['/home/utilityuser/islandora_workbench/patch_summit.py']
path_to_python: /opt/rh/rh-python38/root/usr/bin/python
path_to_workbench_script: /home/utilityuser/islandora_workbench/workbench
</code></pre>
<p>The input CSV, which describes the theses (and is named in the <code>input_csv</code> setting in the above config file), looks like this (a single CSV row shown here):</p>
<pre><code class="language-csv">id,file,title,field_sfu_abstract,field_linked_agent,field_sfu_rights_ref,field_edtf_date_created,field_sfu_department,field_identifier,field_tags,field_language,field_member_of,field_sfu_permissions,field_sfu_thesis_advisor,field_sfu_thesis_type,field_resource_type,field_extent,field_display_hints,field_model
6603,/home/utilityuser/summit_data/tmp/etd21603/etd21603.pdf,&quot;Additively manufactured digital microfluidics&quot;,&quot;With the development of lithography techniques, microfluidic systems have drastically evolved in the past decades. Digital microfluidics (DMF), which enables discrete droplet actuation without any carrying liquid as opposed to the continuous-fluid-based microfluidics, emerged as the candidate for the next generation of lab-on-a-chip systems. The DMF has been applied to a wide variety of fields including electrochemical and biomedical assays, drug delivery, and point-of-care diagnosis of diseases. Most of the DMF devices are made with photolithography which requires complicated processes, sophisticated equipment, and cleanroom setting. Based on the fabrication technology being used, these DMF manipulate droplets in a planar format that limits the increase of chip density. The objective of this study is to introduce additive manufacturing (AM) into the fabrication process of DMF to design and build a 3D-structured DMF platform for droplet actuation between different planes. The creation of additively manufactured DMF is demonstrated by fabricating a planar DMF device with ion-selective sensing functions. Following that, the design of vertical DMF electrodes overcomes the barrier for droplets to move between different actuation components, and the application of AM helps to construct free-standing xylem DMF to drive the droplet upward. To form a functional system, the horizontal and xylem DMF are integrated so that a three-dimensional (3D) droplet manipulation is demonstrated. The integrated system performs a droplet actuation speed of 1 mm/s from horizontal to vertical with various droplet sizes. It is highly expected that the 3D-structured DMF open new possibilities for the design of DMF devices that can be used in many practical applications.&quot;,&quot;relators:aut:Min, Xin&quot;,575,2021-08-27,&quot;Applied Sciences: School of Mechatronic Systems Engineering&quot;,etd21603,&quot;Digital microfluidics%%%Additive manufacturing%%%3D printing%%%Electrowetting&quot;,531,30044%%%30035,&quot;This thesis may be printed or downloaded for non-commercial research and scholarly purposes.&quot;,&quot;relators:ths:Soo, Kim, Woo&quot;,&quot;(Thesis) Ph.D.&quot;,545,&quot;125 pages.&quot;,519,512
</code></pre>
<p>Supplemental files for a thesis are created as child nodes, with the thesis node containing the PDF media as the parent. Here is the <a href="https://summit.sfu.ca/item/35620">thesis in Summit</a> created from the CSV data above. This thesis has four supplemental video files, which are created as the child nodes using a Workbench <a href="/islandora_workbench_docs/paged_and_compound/#using-a-secondary-task">secondary task</a>. The configuration file for this secondary task looks like this:</p>
<pre><code class="language-yaml">task: create
host: https://summit.sfu.ca
username: xxxxxxxxxxxxxxxx
password: xxxxxxxxxxxxxxxx
content_type: islandora_object
allow_adding_terms: true
subdelimiter: '%%%'
media_types_override:
  - video: ['mp4', 'mov', 'mpv']
  - file: ['zip', 'xls', 'xlsx']
# In case the supplemental file doesn't download, etc. we still create the node.
allow_missing_files: true
input_dir: /home/utilityuser/islandora_workbench/input_data
input_csv: /home/utilityuser/summit_data/tmp/supplemental_daily.csv
log_file_path: /home/utilityuser/islandora_workbench/theses_daily.log
</code></pre>
<p>The input CSV for this secondary task, which describes the supplemental files (and is named in the <code>input_csv</code> setting in the "secondary" config file), looks like this (only rows for children of the above item shown here):</p>
<pre><code class="language-csv">id,parent_id,title,file,field_model,field_member_of,field_linked_agent,field_sfu_rights_ref,field_edtf_date_created,field_description,field_display_hints
6603.1,6603,&quot;DMF droplet actuation_Planar&quot;,&quot;/home/utilityuser/summit_data/tmp/etd21603/etd21603-xin-min-DMF droplet actuation_Planar.mp4&quot;,511,,&quot;relators:aut:Min, Xin&quot;,575,2021-08-27,,
6603.2,6603,&quot;DMF droplet actuation_3D electrode&quot;,&quot;/home/utilityuser/summit_data/tmp/etd21603/etd21603-xin-min-DMF droplet actuation_3D electrode.mp4&quot;,511,,&quot;relators:aut:Min, Xin&quot;,575,2021-08-27,,
6603.3,6603,&quot;DMF droplet actuation_xylem DMF&quot;,&quot;/home/utilityuser/summit_data/tmp/etd21603/etd21603-xin-min-DMF droplet actuation_xylem DMF.mp4&quot;,511,,&quot;relators:aut:Min, Xin&quot;,575,2021-08-27,,
6603.4,6603,&quot;Horizontal to vertical movement&quot;,&quot;/home/utilityuser/summit_data/tmp/etd21603/etd21603-xin-min-Horizontal to vertical movement.mp4&quot;,511,,&quot;relators:aut:Min, Xin&quot;,575,2021-08-27,,
</code></pre>
<h4 id="step-4-update-the-trs">Step 4: Update the TRS</h4>
<p>If a thesis (and any supplemental files, if present) have been successfully added to Summit, Workbench uses a <a href="/islandora_workbench_docs/hooks/#post-action-scripts">post-node-create hook</a> to run a script that updates the TRS in two ways:</p>
<ol>
<li>it populates the "Summit URL" field in the thesis record in the TRS, and</li>
<li>it updates the student's user record in the TRS to prevent the student from logging into the TRS.</li>
</ol>
<p>The "Summit URL" for a thesis not only links the metadata in the TRS with the migrated item in Summit, it is also used to prevent theses from entering the daily feed described in Step 1. Specifically, theses that have been migrated to Summit (and therefore have a "Summit URL") are excluded from the daily feed generated by the TRS. This prevents a thesis from being migrated more than once. If for some reason the Thesis Office wants a thesis to be re-migrated to Summit, all they need to do is delete the first copy from Summit, then remove the "Summit URL" from the thesis metadata in the TRS. Doing so will ensure that the thesis gets into the next day's feed.</p>
<p>Thesis Office staff do not want students logging into the TRS after their theses have been published in Summit. To prevent a student from logging in, once a thesis has been successfully ingested, Workbench executes a post-node-creation hook script that disables the student's user record in the TRS. If a student wants to log into the TRS after their thesis has been migrated, they need to contact the Thesis Office.</p>
<h4 id="not-depicted-in-the-diagram">Not depicted in the diagram</h4>
<ul>
<li>After Workbench has completed executing, a final daily job runs that parses out entries from the Workbench log and the log written by the TRS daily script, and emails those entries to the Summit administrator to warn them of any errors that may have occurred.</li>
<li>There is an additional monthly scheduled job (that runs on the first day of each month) that generates MARC records for each thesis added to Summit in the previous month. Before it finishes executing, this script emails the resulting MARC communications file to the Library's metadata staff, who load it into the Library's catalogue.</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../cancelling/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Cancelling Workbench" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Cancelling Workbench
            </div>
          </div>
        </a>
      
      
        
        <a href="../contact_sheet/" class="md-footer__link md-footer__link--next" aria-label="Next: Generating a contact sheet" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Generating a contact sheet
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
    
  </body>
</html>